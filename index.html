<!DOCTYPE html>
<html lang="ko">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>ì¼ë³¸ì–´ ê¸°ë§ë²”ìœ„ ì˜¬ìŠ¤íƒ€(ë‹¨ì–´ì¥ ì—…ëƒë¨!)</title>
    <link href="https://fonts.googleapis.com/css2?family=Noto+Sans+JP:wght@400;700&family=Noto+Sans+KR:wght@400;700&display=swap" rel="stylesheet">
    <style>
        :root {
            --primary: #6366f1;
            --primary-hover: #4f46e5;
            --success: #10b981;
            --error: #ef4444;
            --share: #8b5cf6;
            --share-hover: #7c3aed;
            --vocab: #f59e0b; /* ë‹¨ì–´ì¥ ìƒ‰ìƒ */
            --vocab-hover: #d97706;
            --background: linear-gradient(135deg, #a5f3fc 0%, #818cf8 100%);
            --card-bg: rgba(255, 255, 255, 0.95);
        }

        body {
            font-family: 'Noto Sans KR', sans-serif;
            background: var(--background);
            display: flex;
            justify-content: center;
            align-items: center;
            min-height: 100vh;
            margin: 0;
            padding: 20px;
            color: #1f2937;
        }

        .container {
            background-color: var(--card-bg);
            padding: 2.5rem;
            border-radius: 24px;
            box-shadow: 0 20px 25px -5px rgba(0, 0, 0, 0.1), 0 10px 10px -5px rgba(0, 0, 0, 0.04);
            width: 100%;
            max-width: 480px;
            text-align: center;
            backdrop-filter: blur(10px);
            transition: transform 0.3s ease;
            max-height: 90vh; /* ë‹¨ì–´ì¥ ìŠ¤í¬ë¡¤ì„ ìœ„í•´ ë†’ì´ ì œí•œ */
            overflow-y: auto; /* ë‚´ìš© ë„˜ì¹˜ë©´ ìŠ¤í¬ë¡¤ */
        }

        /* ìŠ¤í¬ë¡¤ë°” ì»¤ìŠ¤í…€ */
        .container::-webkit-scrollbar { width: 8px; }
        .container::-webkit-scrollbar-track { background: #f1f1f1; border-radius: 4px; }
        .container::-webkit-scrollbar-thumb { background: #c7c7c7; border-radius: 4px; }
        .container::-webkit-scrollbar-thumb:hover { background: #a8a8a8; }

        #start-screen { display: block; }
        .mode-btn {
            display: flex;
            justify-content: space-between;
            align-items: center;
            width: 100%;
            margin-bottom: 15px;
            padding: 20px;
            font-size: 1.1rem;
            text-align: left;
            background: white;
            border: 2px solid #e5e7eb;
            border-radius: 16px;
            cursor: pointer;
            transition: all 0.2s;
            color: #374151;
            font-weight: 700;
        }
        .mode-btn:hover {
            border-color: var(--primary);
            color: var(--primary);
            transform: translateY(-2px);
            box-shadow: 0 4px 12px rgba(99, 102, 241, 0.15);
        }
        .mode-icon { font-size: 1.5rem; }
        .mode-desc { font-size: 0.85rem; color: #9ca3af; font-weight: 400; margin-top: 4px; }

        /* ë‹¨ì–´ì¥ ë²„íŠ¼ ìŠ¤íƒ€ì¼ */
        .vocab-btn-main {
            border-color: #fcd34d;
        }
        .vocab-btn-main:hover {
            border-color: var(--vocab);
            color: var(--vocab);
        }

        header { margin-bottom: 2rem; }

        .status {
            display: flex;
            justify-content: space-between;
            font-size: 0.875rem;
            color: #6b7280;
            margin-top: 8px;
            font-weight: 500;
        }

        .progress-wrapper {
            background: #e5e7eb;
            height: 8px;
            border-radius: 999px;
            overflow: hidden;
            margin-top: 10px;
        }

        .progress-bar {
            height: 100%;
            background: var(--primary);
            width: 0%;
            transition: width 0.4s cubic-bezier(0.4, 0, 0.2, 1);
        }

        .question-card {
            background: #f3f4f6;
            border-radius: 16px;
            padding: 2.5rem 1rem;
            margin-bottom: 2rem;
            border: 2px solid transparent;
            transition: all 0.3s ease;
            position: relative;
        }

        .category-badge {
            display: inline-block;
            background: #e0e7ff;
            color: #4338ca;
            font-size: 0.8rem;
            padding: 4px 12px;
            border-radius: 99px;
            margin-bottom: 10px;
            font-weight: 600;
        }

        .jp-word {
            font-family: 'Noto Sans JP', sans-serif;
            font-size: 2.8rem;
            font-weight: 700;
            color: #111827;
            line-height: 1.2;
            word-break: keep-all;
        }

        .input-group {
            position: relative;
            margin-bottom: 1.5rem;
        }

        input[type="text"] {
            width: 100%;
            padding: 16px;
            font-size: 1.25rem;
            text-align: center;
            border: 2px solid #d1d5db;
            border-radius: 12px;
            outline: none;
            box-sizing: border-box;
            transition: all 0.2s ease;
            background: white;
            font-family: 'Noto Sans KR', sans-serif;
        }

        input[type="text"].jp-mode {
            font-family: 'Noto Sans JP', sans-serif;
        }

        input[type="text"]:focus {
            border-color: var(--primary);
            box-shadow: 0 0 0 4px rgba(99, 102, 241, 0.1);
        }

        input.correct {
            border-color: var(--success);
            background-color: #ecfdf5;
            color: var(--success);
        }

        input.wrong {
            border-color: var(--error);
            background-color: #fef2f2;
            color: var(--error);
            animation: shake 0.4s cubic-bezier(.36,.07,.19,.97) both;
        }

        @keyframes shake {
            10% { transform: translate3d(-1px, 0, 0); }
            50% { transform: translate3d(-4px, 0, 0); }
            90% { transform: translate3d(-1px, 0, 0); }
        }

        .feedback-msg {
            min-height: 24px;
            margin-bottom: 1rem;
            font-weight: 700;
            font-size: 1.1rem;
        }
        
        .msg-success { color: var(--success); }
        .msg-error { color: var(--error); }

        .btn {
            width: 100%;
            padding: 16px;
            border: none;
            border-radius: 12px;
            background: var(--primary);
            color: white;
            font-size: 1.125rem;
            font-weight: 700;
            cursor: pointer;
            transition: all 0.2s;
            box-shadow: 0 4px 6px -1px rgba(99, 102, 241, 0.3);
        }

        .btn:hover {
            background: var(--primary-hover);
            transform: translateY(-2px);
        }

        .home-btn {
            background: #9ca3af;
            margin-top: 10px;
            box-shadow: none;
        }
        .share-btn {
            background: var(--share);
            margin-top: 10px;
        }

        /* ë‹¨ì–´ì¥ í™”ë©´ ìŠ¤íƒ€ì¼ */
        #vocab-screen { display: none; text-align: left; }
        
        .vocab-table {
            width: 100%;
            border-collapse: collapse;
            margin-top: 20px;
            font-size: 0.95rem;
        }
        
        .vocab-table th, .vocab-table td {
            padding: 12px 8px;
            border-bottom: 1px solid #e5e7eb;
            text-align: left;
        }
        
        .vocab-table th {
            background-color: #f9fafb;
            font-weight: bold;
            color: #374151;
            position: sticky;
            top: 0;
        }

        .col-jp { font-family: 'Noto Sans JP'; font-weight: bold; color: var(--primary); width: 35%; }
        .col-kanji { font-family: 'Noto Sans JP'; color: #6b7280; width: 25%; font-size: 0.9rem; }
        .col-kr { color: #1f2937; width: 40%; }

        #quiz-screen, #result-screen { display: none; }

        .score-display {
            font-size: 4rem;
            font-weight: 800;
            color: var(--primary);
            margin: 1rem 0;
        }

        .wrong-answers-container {
            text-align: left;
            margin-top: 2rem;
            background: #f9fafb;
            border-radius: 12px;
            padding: 1rem;
            max-height: 250px;
            overflow-y: auto;
            border: 1px solid #e5e7eb;
        }

        .wrong-item {
            padding: 10px;
            border-bottom: 1px solid #e5e7eb;
            display: flex;
            justify-content: space-between;
            align-items: center;
        }
        .wrong-item:last-child { border-bottom: none; }
        .w-jp { font-weight: bold; color: var(--error); font-family: 'Noto Sans JP'; }
        .w-kr { color: #4b5563; font-size: 0.9rem; }
    </style>
</head>
<body>

    <!-- 1. ì‹œì‘ í™”ë©´ -->
    <div class="container" id="start-screen">
        <h1 style="color: #374151; margin-bottom: 2rem; font-size: 1.5rem;">
            ì¼ë³¸ì–´ ê¸°ë§ë²”ìœ„ ì˜¬ìŠ¤íƒ€<br>
            <span style="font-size: 0.9rem; color: #6b7280; font-weight:normal;">ë‚´ê°€ ì¼ë³¸ì–´ 1ë“±ê¸‰ì´ ë  ìˆ˜ ìˆì„ ë¦¬ ì—†ì–ì•„, ë¬´ë¦¬ë¬´ë¦¬! (â€»ë¬´ë¦¬ê°€ ì•„ë‹ˆì—ˆë‹¤?!)</span>
        </h1>
        
        <button class="mode-btn" onclick="startGame('JP_KR')">
            <div>
                <div>ê¸°ë³¸ ëª¨ë“œ</div>
                <div class="mode-desc">íˆë¼ê°€ë‚˜ â” í•œêµ­ì–´ ëœ»</div>
            </div>
            <span class="mode-icon">ğŸ‡°ğŸ‡·</span>
        </button>

        <button class="mode-btn" onclick="startGame('KR_JP')">
            <div>
                <div>ì“°ê¸° ëª¨ë“œ</div>
                <div class="mode-desc">í•œêµ­ì–´ ëœ» â” íˆë¼ê°€ë‚˜ ì…ë ¥</div>
            </div>
            <span class="mode-icon">ğŸ‡¯ğŸ‡µ</span>
        </button>

        <button class="mode-btn" onclick="startGame('KANJI')">
            <div>
                <div>í•œì ëª¨ë“œ</div>
                <div class="mode-desc">í•œì â” ì½ëŠ” ë²•(ìš”ë¯¸ì¹´íƒ€)</div>
            </div>
            <span class="mode-icon">æ¼¢</span>
        </button>

        <button class="mode-btn vocab-btn-main" onclick="showVocabList()">
            <div>
                <div>ë‹¨ì–´ì¥ ë³´ê¸°</div>
                <div class="mode-desc">ì‹œí—˜ ë²”ìœ„ ì „ì²´ ë‹¨ì–´ ë¦¬ìŠ¤íŠ¸</div>
            </div>
            <span class="mode-icon">ğŸ“–</span>
        </button>
    </div>

    <!-- 2. í€´ì¦ˆ í™”ë©´ -->
    <div class="container" id="quiz-screen">
        <header>
            <div class="status">
                <span id="mode-title">STAGE 1</span>
                <span id="remain-num">ë‚¨ì€ ë¬¸ì œ í™•ì¸ ì¤‘...</span>
            </div>
            <div class="progress-wrapper">
                <div class="progress-bar" id="progress-bar"></div>
            </div>
        </header>

        <div class="question-card">
            <span class="category-badge" id="category-badge">ë‹¨ì–´</span>
            <div class="jp-word" id="question-text"></div>
        </div>

        <div class="feedback-msg" id="feedback"></div>

        <div class="input-group">
            <input type="text" id="answer-input" placeholder="ì •ë‹µì„ ì…ë ¥í•˜ì„¸ìš”" autocomplete="off" spellcheck="false">
        </div>

        <button class="btn" id="action-btn" onclick="handleAction()">ì œì¶œí•˜ê¸° (Enter)</button>
        <button class="btn home-btn" onclick="goHome()">ë©”ë‰´ë¡œ ë‚˜ê°€ê¸°</button>
    </div>

    <!-- 3. ê²°ê³¼ í™”ë©´ -->
    <div class="container" id="result-screen">
        <h1>í…ŒìŠ¤íŠ¸ ì™„ë£Œ!</h1>
        <p>ìµœì¢… ì ìˆ˜</p>
        
        <div class="score-display"><span id="final-score">0</span>ì </div>
        <p><span id="correct-cnt">0</span> / <span id="total-cnt">0</span> ë¬¸ì œ ì •ë‹µ</p>

        <div class="wrong-answers-container" id="wrong-box" style="display: none;">
            <h4 style="margin:0 0 10px 0; color:#374151;">ì˜¤ë‹µ ë…¸íŠ¸</h4>
            <div id="wrong-list"></div>
        </div>

        <button class="btn" onclick="restartCurrentMode()" style="margin-top: 20px;">ë‹¤ì‹œ ë„ì „í•˜ê¸°</button>
        <button class="btn share-btn" onclick="shareResult()">ì¹œêµ¬ì—ê²Œ ìë‘í•˜ê¸° ğŸ“¤</button>
        <button class="btn home-btn" onclick="goHome()">ë©”ë‰´ë¡œ ë‚˜ê°€ê¸°</button>
    </div>

    <!-- 4. ë‹¨ì–´ì¥ í™”ë©´ (ì‹ ê·œ) -->
    <div class="container" id="vocab-screen">
        <h2 style="color: #374151; margin-bottom: 10px; text-align: center;">ì‹œí—˜ ë²”ìœ„ ë‹¨ì–´ì¥</h2>
        <p style="text-align: center; color: #6b7280; font-size: 0.9rem; margin-bottom: 20px;">ì´ <span id="total-vocab-count">0</span>ê°œì˜ ë‹¨ì–´ê°€ ìˆìŠµë‹ˆë‹¤.</p>
        
        <table class="vocab-table">
            <thead>
                <tr>
                    <th>íˆë¼ê°€ë‚˜</th>
                    <th>í•œì</th>
                    <th>ëœ»</th>
                </tr>
            </thead>
            <tbody id="vocab-table-body">
                <!-- ìë°”ìŠ¤í¬ë¦½íŠ¸ë¡œ ë°ì´í„° ë¡œë“œ -->
            </tbody>
        </table>

        <button class="btn home-btn" onclick="goHome()" style="margin-top: 20px;">ë©”ë‰´ë¡œ ëŒì•„ê°€ê¸°</button>
    </div>

    <script>
        // === í†µí•© ë°ì´í„° ===
        const vocabData = [
            { jp: "ã„ã¡ã­ã‚“ã›ã„", kanji: "ä¸€å¹´ç”Ÿ", kr: "1í•™ë…„", valid: ["1í•™ë…„", "ì¼í•™ë…„"], type: "í•™êµ" },
            { jp: "ã«ã­ã‚“ã›ã„", kanji: "äºŒå¹´ç”Ÿ", kr: "2í•™ë…„", valid: ["2í•™ë…„", "ì´í•™ë…„"], type: "í•™êµ" },
            { jp: "ã•ã‚“ã­ã‚“ã›ã„", kanji: "ä¸‰å¹´ç”Ÿ", kr: "3í•™ë…„", valid: ["3í•™ë…„", "ì‚¼í•™ë…„"], type: "í•™êµ" },
            { jp: "ã‚ˆã­ã‚“ã›ã„", kanji: "å››å¹´ç”Ÿ", kr: "4í•™ë…„", valid: ["4í•™ë…„", "ì‚¬í•™ë…„"], type: "í•™êµ" },
            { jp: "ã—ã‚‡ã†ãŒã", kanji: "å°å­¦", kr: "ì´ˆë“±", valid: ["ì´ˆë“±", "ì´ˆë“±í•™êµ"], type: "í•™êµ" },
            { jp: "ã¡ã‚…ã†ãŒã", kanji: "ä¸­å­¦", kr: "ì¤‘ë“±", valid: ["ì¤‘ë“±", "ì¤‘í•™êµ"], type: "í•™êµ" },
            { jp: "ã“ã†ã“ã†", kanji: "é«˜æ ¡", kr: "ê³ êµ", valid: ["ê³ êµ", "ê³ ë“±í•™êµ"], type: "í•™êµ" },
            { jp: "ã ã„ãŒã", kanji: "å¤§å­¦", kr: "ëŒ€í•™", valid: ["ëŒ€í•™", "ëŒ€í•™êµ"], type: "í•™êµ" },
            { jp: "ãã‚‡ã†ã—ã¤", kanji: "æ•™å®¤", kr: "êµì‹¤", valid: ["êµì‹¤"], type: "í•™êµ" },
            { jp: "ãˆã„ã”", kanji: "è‹±èª", kr: "ì˜ì–´", valid: ["ì˜ì–´"], type: "ê³¼ëª©" },
            { jp: "ã˜ã‚…ã", kanji: "å¡¾", kr: "í•™ì›", valid: ["í•™ì›"], type: "í•™êµ" },
            { jp: "ã¨ã—ã‚‡ã‹ã‚“", kanji: "å›³æ›¸é¤¨", kr: "ë„ì„œê´€", valid: ["ë„ì„œê´€"], type: "ì¥ì†Œ" },
            { jp: "ã²ã¨ã‚Š", kanji: "ä¸€äºº", kr: "í•œ ëª…", valid: ["í•œ ëª…", "1ëª…", "í•œëª…", "1ì¸"], type: "ì¸ì›" },
            { jp: "ãµãŸã‚Š", kanji: "äºŒäºº", kr: "ë‘ ëª…", valid: ["ë‘ ëª…", "2ëª…", "ë‘ëª…", "2ì¸"], type: "ì¸ì›" },
            { jp: "ã•ã‚“ã«ã‚“", kanji: "ä¸‰äºº", kr: "ì„¸ ëª…", valid: ["ì„¸ ëª…", "3ëª…", "ì„¸ëª…", "3ì¸"], type: "ì¸ì›" },
            { jp: "ã‚ˆã«ã‚“", kanji: "å››äºº", kr: "ë„¤ ëª…", valid: ["ë„¤ ëª…", "4ëª…", "ë„¤ëª…", "4ì¸"], type: "ì¸ì›" },
            { jp: "ã”ã«ã‚“", kanji: "äº”äºº", kr: "ë‹¤ì„¯ ëª…", valid: ["ë‹¤ì„¯ ëª…", "5ëª…", "ë‹¤ì„¯ëª…", "5ì¸"], type: "ì¸ì›" },
            { jp: "ã‚ãã«ã‚“", kanji: "å…­äºº", kr: "ì—¬ì„¯ ëª…", valid: ["ì—¬ì„¯ ëª…", "6ëª…", "ì—¬ì„¯ëª…", "6ì¸"], type: "ì¸ì›" },
            { jp: "ã—ã¡ã«ã‚“", kanji: "ä¸ƒäºº", kr: "ì¼ê³± ëª… (ì‹œì¹˜ë‹Œ)", valid: ["ì¼ê³± ëª…", "7ëª…", "ì¼ê³±ëª…", "7ì¸"], type: "ì¸ì›" },
            { jp: "ãªãªã«ã‚“", kanji: "ä¸ƒäºº", kr: "ì¼ê³± ëª… (ë‚˜ë‚˜ë‹Œ)", valid: ["ì¼ê³± ëª…", "7ëª…", "ì¼ê³±ëª…", "7ì¸"], type: "ì¸ì›" },
            { jp: "ã¯ã¡ã«ã‚“", kanji: "å…«äºº", kr: "ì—¬ëŸ ëª…", valid: ["ì—¬ëŸ ëª…", "8ëª…", "ì—¬ëŸëª…", "8ì¸"], type: "ì¸ì›" },
            { jp: "ãã‚…ã†ã«ã‚“", kanji: "ä¹äºº", kr: "ì•„í™‰ ëª…", valid: ["ì•„í™‰ ëª…", "9ëª…", "ì•„í™‰ëª…", "9ì¸"], type: "ì¸ì›" },
            { jp: "ãã«ã‚“", kanji: "ä¹äºº", kr: "ì•„í™‰ ëª… (ì¿ ë‹Œ)", valid: ["ì•„í™‰ ëª…", "9ëª…", "ì•„í™‰ëª…", "9ì¸"], type: "ì¸ì›" },
            { jp: "ã˜ã‚…ã†ã«ã‚“", kanji: "åäºº", kr: "ì—´ ëª…", valid: ["ì—´ ëª…", "10ëª…", "ì—´ëª…", "10ì¸"], type: "ì¸ì›" },
            { jp: "ã„ã¡ã˜", kanji: "ä¸€æ™‚", kr: "1ì‹œ", valid: ["1ì‹œ", "í•œì‹œ"], type: "ì‹œê°„" },
            { jp: "ã«ã˜", kanji: "äºŒæ™‚", kr: "2ì‹œ", valid: ["2ì‹œ", "ë‘ì‹œ"], type: "ì‹œê°„" },
            { jp: "ã•ã‚“ã˜", kanji: "ä¸‰æ™‚", kr: "3ì‹œ", valid: ["3ì‹œ", "ì„¸ì‹œ"], type: "ì‹œê°„" },
            { jp: "ã‚ˆã˜", kanji: "å››æ™‚", kr: "4ì‹œ", valid: ["4ì‹œ", "ë„¤ì‹œ"], type: "ì‹œê°„" },
            { jp: "ã”ã˜", kanji: "äº”æ™‚", kr: "5ì‹œ", valid: ["5ì‹œ", "ë‹¤ì„¯ì‹œ"], type: "ì‹œê°„" },
            { jp: "ã‚ãã˜", kanji: "å…­æ™‚", kr: "6ì‹œ", valid: ["6ì‹œ", "ì—¬ì„¯ì‹œ"], type: "ì‹œê°„" },
            { jp: "ã—ã¡ã˜", kanji: "ä¸ƒæ™‚", kr: "7ì‹œ", valid: ["7ì‹œ", "ì¼ê³±ì‹œ"], type: "ì‹œê°„" },
            { jp: "ã¯ã¡ã˜", kanji: "å…«æ™‚", kr: "8ì‹œ", valid: ["8ì‹œ", "ì—¬ëŸì‹œ"], type: "ì‹œê°„" },
            { jp: "ãã˜", kanji: "ä¹æ™‚", kr: "9ì‹œ", valid: ["9ì‹œ", "ì•„í™‰ì‹œ"], type: "ì‹œê°„" },
            { jp: "ã˜ã‚…ã†ã˜", kanji: "åæ™‚", kr: "10ì‹œ", valid: ["10ì‹œ", "ì—´ì‹œ"], type: "ì‹œê°„" },
            { jp: "ã„ã£ã·ã‚“", kanji: "ä¸€åˆ†", kr: "1ë¶„", valid: ["1ë¶„", "ì¼ë¶„"], type: "ì‹œê°„" },
            { jp: "ã«ãµã‚“", kanji: "äºŒåˆ†", kr: "2ë¶„", valid: ["2ë¶„", "ì´ë¶„"], type: "ì‹œê°„" },
            { jp: "ã•ã‚“ã·ã‚“", kanji: "ä¸‰åˆ†", kr: "3ë¶„", valid: ["3ë¶„", "ì‚¼ë¶„"], type: "ì‹œê°„" },
            { jp: "ã‚ˆã‚“ã·ã‚“", kanji: "å››åˆ†", kr: "4ë¶„", valid: ["4ë¶„", "ì‚¬ë¶„"], type: "ì‹œê°„" },
            { jp: "ã”ãµã‚“", kanji: "äº”åˆ†", kr: "5ë¶„", valid: ["5ë¶„", "ì˜¤ë¶„"], type: "ì‹œê°„" },
            { jp: "ã‚ã£ã·ã‚“", kanji: "å…­åˆ†", kr: "6ë¶„", valid: ["6ë¶„", "ìœ¡ë¶„"], type: "ì‹œê°„" },
            { jp: "ãªãªãµã‚“", kanji: "ä¸ƒåˆ†", kr: "7ë¶„", valid: ["7ë¶„", "ì¹ ë¶„"], type: "ì‹œê°„" },
            { jp: "ã¯ã£ã·ã‚“", kanji: "å…«åˆ†", kr: "8ë¶„", valid: ["8ë¶„", "íŒ”ë¶„"], type: "ì‹œê°„" },
            { jp: "ã¯ã¡ãµã‚“", kanji: "å…«åˆ†", kr: "8ë¶„ (í•˜ì¹˜í›ˆ)", valid: ["8ë¶„", "íŒ”ë¶„"], type: "ì‹œê°„" },
            { jp: "ãã‚…ã†ãµã‚“", kanji: "ä¹åˆ†", kr: "9ë¶„", valid: ["9ë¶„", "êµ¬ë¶„"], type: "ì‹œê°„" },
            { jp: "ã˜ã‚…ã£ã·ã‚“", kanji: "ååˆ†", kr: "10ë¶„", valid: ["10ë¶„", "ì‹­ë¶„"], type: "ì‹œê°„" },
            { jp: "ã˜ã£ã·ã‚“", kanji: "ååˆ†", kr: "10ë¶„ (ì§“ë¿)", valid: ["10ë¶„", "ì‹­ë¶„"], type: "ì‹œê°„" },
            { jp: "ã¯ã‚“", kanji: "åŠ", kr: "ë°˜ (30ë¶„)", valid: ["ë°˜", "30ë¶„"], type: "ì‹œê°„" },
            { jp: "ã’ã¤ã‚ˆã†ã³", kanji: "æœˆæ›œæ—¥", kr: "ì›”ìš”ì¼", valid: ["ì›”ìš”ì¼"], type: "ìš”ì¼" },
            { jp: "ã‹ã‚ˆã†ã³", kanji: "ç«æ›œæ—¥", kr: "í™”ìš”ì¼", valid: ["í™”ìš”ì¼"], type: "ìš”ì¼" },
            { jp: "ã™ã„ã‚ˆã†ã³", kanji: "æ°´æ›œæ—¥", kr: "ìˆ˜ìš”ì¼", valid: ["ìˆ˜ìš”ì¼"], type: "ìš”ì¼" },
            { jp: "ã‚‚ãã‚ˆã†ã³", kanji: "æœ¨æ›œæ—¥", kr: "ëª©ìš”ì¼", valid: ["ëª©ìš”ì¼"], type: "ìš”ì¼" },
            { jp: "ãã‚“ã‚ˆã†ã³", kanji: "é‡‘æ›œæ—¥", kr: "ê¸ˆìš”ì¼", valid: ["ê¸ˆìš”ì¼"], type: "ìš”ì¼" },
            { jp: "ã©ã‚ˆã†ã³", kanji: "åœŸæ›œæ—¥", kr: "í† ìš”ì¼", valid: ["í† ìš”ì¼"], type: "ìš”ì¼" },
            { jp: "ã«ã¡ã‚ˆã†ã³", kanji: "æ—¥æ›œæ—¥", kr: "ì¼ìš”ì¼", valid: ["ì¼ìš”ì¼"], type: "ìš”ì¼" },
            { jp: "ã‚ˆã†ã³", kanji: "æ›œæ—¥", kr: "ìš”ì¼", valid: ["ìš”ì¼"], type: "ìš”ì¼" },
            { jp: "ããµ", kanji: "ç¥–çˆ¶", kr: "í• ì•„ë²„ì§€ (ë‚˜ì˜)", valid: ["í• ì•„ë²„ì§€", "ì¡°ë¶€"], type: "ê°€ì¡±" },
            { jp: "ãã¼", kanji: "ç¥–æ¯", kr: "í• ë¨¸ë‹ˆ (ë‚˜ì˜)", valid: ["í• ë¨¸ë‹ˆ", "ì¡°ëª¨"], type: "ê°€ì¡±" },
            { jp: "ã‹ãã", kanji: "å®¶æ—", kr: "ê°€ì¡±", valid: ["ê°€ì¡±"], type: "ê°€ì¡±" },
            { jp: "ã“ã¡ã‚‰ã“ã", kanji: null, kr: "ì €ì•¼ë§ë¡œ", valid: ["ì €ì•¼ë§ë¡œ", "ì´ìª½ì´ì•¼ë§ë¡œ"], type: "íšŒí™”" },
            { jp: "ã„ã£ã“ã ã¦", kanji: "ä¸€æˆ¸å»ºã¦", kr: "ë‹¨ë… ì£¼íƒ", valid: ["ë‹¨ë… ì£¼íƒ", "ë‹¨ë…ì£¼íƒ"], type: "ì£¼ê±°" },
            { jp: "ãƒãƒ³ã‚·ãƒ§ãƒ³", kanji: null, kr: "ì¤‘Â·ê³ ì¸µ ì•„íŒŒíŠ¸", valid: ["ë§¨ì…˜", "ì•„íŒŒíŠ¸", "ê³ ì¸µ ì•„íŒŒíŠ¸", "ì¤‘ê³ ì¸µ ì•„íŒŒíŠ¸"], type: "ì£¼ê±°" },
            { jp: "ã‚¢ãƒ‘ãƒ¼ãƒˆ", kanji: null, kr: "ì—°ë¦½ ì£¼íƒ", valid: ["ì—°ë¦½ ì£¼íƒ", "ì—°ë¦½ì£¼íƒ", "ì•„íŒŒíŠ¸", "ì €ì¸µ ì•„íŒŒíŠ¸"], type: "ì£¼ê±°" },
            { jp: "ã‚ã—ã¤", kanji: "å’Œå®¤", kr: "ì¼ë³¸ì‹ ë°©", valid: ["ì¼ë³¸ì‹ ë°©", "í™”ì‹¤", "ë‹¤ë‹¤ë¯¸ ë°©"], type: "ì£¼ê±°" },
            { jp: "ãŸãŸã¿", kanji: "ç•³", kr: "ë‹¤ë‹¤ë¯¸", valid: ["ë‹¤ë‹¤ë¯¸"], type: "ì£¼ê±°" },
            { jp: "ã¨ã“ã®ã¾", kanji: "åºŠã®é–“", kr: "í† ì½”ë…¸ë§ˆ (ì¥ì‹ ê³µê°„)", valid: ["í† ì½”ë…¸ë§ˆ", "ë„ì½”ë…¸ë§ˆ"], type: "ì£¼ê±°" },
            { jp: "ã—ããã‚“", kanji: "æ•·é‡‘", kr: "ë³´ì¦ê¸ˆ", valid: ["ë³´ì¦ê¸ˆ", "ì‹œí‚¤í‚¹"], type: "ì£¼ê±°" },
            { jp: "ã‚Œã„ãã‚“", kanji: "ç¤¼é‡‘", kr: "ì‚¬ë¡€ê¸ˆ", valid: ["ì‚¬ë¡€ê¸ˆ", "ë ˆì´í‚¹"], type: "ì£¼ê±°" },
            { jp: "ã‚„ã¡ã‚“", kanji: "å®¶è³ƒ", kr: "ì§‘ì„¸", valid: ["ì§‘ì„¸", "ì›”ì„¸"], type: "ì£¼ê±°" },
            { jp: "ãƒˆã‚¤ãƒ¬", kanji: null, kr: "í™”ì¥ì‹¤", valid: ["í™”ì¥ì‹¤", "ë³€ê¸°", "í† ì¼ë ›"], type: "ì£¼ê±°" },
            { jp: "ãŠãµã‚", kanji: "ãŠé¢¨å‘‚", kr: "ëª©ìš•(íƒ•)", valid: ["ëª©ìš•", "ëª©ìš•íƒ•", "ìš•ì¡°", "ìš•ì‹¤"], type: "ì£¼ê±°" },
            { jp: "ãƒªãƒ“ãƒ³ã‚°", kanji: null, kr: "ê±°ì‹¤", valid: ["ê±°ì‹¤"], type: "ì£¼ê±°" },
            { jp: "ã¸ã‚„", kanji: "éƒ¨å±‹", kr: "ë°©", valid: ["ë°©"], type: "ì£¼ê±°" },
            { jp: "ã ã„ã©ã“ã‚", kanji: "å°æ‰€", kr: "ë¶€ì—Œ", valid: ["ë¶€ì—Œ", "ì£¼ë°©"], type: "ì£¼ê±°" },
            { jp: "ã‚ãŸã—ã‚“ã¡", kanji: null, kr: "ìš°ë¦¬ ì§‘ (ì•„ë”°ë§˜ë§ˆ)", valid: ["ìš°ë¦¬ ì§‘", "ìš°ë¦¬ì§‘", "ì•„ë”°ë§˜ë§ˆ"], type: "íšŒí™”" },
            { jp: "ã†ã¡", kanji: "å®¶", kr: "ìš°ë¦¬ ì§‘ / ì§‘", valid: ["ìš°ë¦¬ ì§‘", "ìš°ë¦¬ì§‘", "ì§‘"], type: "ì¥ì†Œ" },
            { jp: "ã¯ã„", kanji: null, kr: "ë„¤", valid: ["ë„¤", "ì˜ˆ"], type: "íšŒí™”" },
            { jp: "ãˆãˆ", kanji: null, kr: "ë„¤ (ì‘)", valid: ["ë„¤", "ì‘", "ì˜ˆ"], type: "íšŒí™”" },
            { jp: "ãŠã˜ã‚ƒã¾ã—ã¾ã™", kanji: "ãŠé‚ªé­”ã—ã¾ã™", kr: "ì‹¤ë¡€í•˜ê² ìŠµë‹ˆë‹¤ (ë°©ë¬¸)", valid: ["ì‹¤ë¡€í•˜ê² ìŠµë‹ˆë‹¤", "ë°©í•´í•˜ê² ìŠµë‹ˆë‹¤", "ì‹¤ë¡€í•©ë‹ˆë‹¤"], type: "íšŒí™”" },
            { jp: "ã—ã¤ã‚Œã„ã—ã¾ã™", kanji: "å¤±ç¤¼ã—ã¾ã™", kr: "ì‹¤ë¡€í•©ë‹ˆë‹¤", valid: ["ì‹¤ë¡€í•©ë‹ˆë‹¤", "ì‹¤ë¡€í•˜ê² ìŠµë‹ˆë‹¤"], type: "íšŒí™”" },
            { jp: "ã©ã†ã", kanji: null, kr: "ì / ì–´ì„œ / ë“œì„¸ìš”", valid: ["ì", "ì–´ì„œ", "ì—¬ê¸° ìˆì–´ìš”", "ì—¬ê¸° ìˆìŠµë‹ˆë‹¤", "ë“¤ì–´ì˜¤ì„¸ìš”", "ë“œì„¸ìš”"], type: "íšŒí™”" },
            { jp: "ãŠã¯ã„ã‚Šãã ã•ã„", kanji: "ãŠå…¥ã‚Šãã ã•ã„", kr: "ë“¤ì–´ì˜¤ì„¸ìš”", valid: ["ë“¤ì–´ì˜¤ì„¸ìš”", "ë“¤ì–´ì˜¤ì‹­ì‹œì˜¤"], type: "íšŒí™”" },
            { jp: "ã„ã‚‰ã£ã—ã‚ƒã„", kanji: null, kr: "ì–´ì„œ ì™€", valid: ["ì–´ì„œ ì™€", "ì–´ì„œ ì˜¤ì„¸ìš”", "ì–´ì„œì™€"], type: "íšŒí™”" },
            { jp: "ã©ã†ã‚‚", kanji: null, kr: "ê°ì‚¬ í‘œí˜„ / ê°•ì¡° í‘œí˜„", valid: ["ê³ ë§ˆì›Œ", "ê°ì‚¬", "ê°ì‚¬ í‘œí˜„", "ì•ˆë…•í•˜ì„¸ìš”", "ê°•ì¡°", "ê°•ì¡° í‘œí˜„"], type: "íšŒí™”" },
            { jp: "ã§ã—ãŸ", kanji: null, kr: "ì˜€ìŠµë‹ˆë‹¤", valid: ["ì˜€ìŠµë‹ˆë‹¤", "ì´ì—ˆìŠµë‹ˆë‹¤", "ì˜€ë‹¤"], type: "ë¬¸ë²•" },
            { jp: "ã§ã™", kanji: null, kr: "ì…ë‹ˆë‹¤", valid: ["ì…ë‹ˆë‹¤", "ì—ìš”", "ì´ì—ìš”"], type: "ë¬¸ë²•" },
            { jp: "ãœã²", kanji: "æ˜¯é", kr: "ë¶€ë”” / ì œë°œ / ê¼­", valid: ["ë¶€ë””", "ì œë°œ", "ê¼­"], type: "ë¶€ì‚¬" },
            { jp: "ã™ã¿ã¾ã›ã‚“", kanji: null, kr: "ì£„ì†¡í•©ë‹ˆë‹¤ / ì €ê¸°ìš”", valid: ["ì£„ì†¡í•©ë‹ˆë‹¤", "ë¯¸ì•ˆí•©ë‹ˆë‹¤", "ì €ê¸°ìš”", "ì‹¤ë¡€í•©ë‹ˆë‹¤"], type: "íšŒí™”" },
            { jp: "ã”ã‚ã‚“ãªã•ã„", kanji: null, kr: "ë¯¸ì•ˆí•´ìš”", valid: ["ë¯¸ì•ˆí•´ìš”", "ë¯¸ì•ˆí•©ë‹ˆë‹¤", "ì£„ì†¡í•©ë‹ˆë‹¤", "ì£„ì†¡í•´ìš”"], type: "íšŒí™”" },
            { jp: "ã¨ã¦ã‚‚", kanji: null, kr: "ë§¤ìš°", valid: ["ë§¤ìš°", "ì•„ì£¼", "ëª¹ì‹œ"], type: "ë¶€ì‚¬" },
            { jp: "ã™ã”ã", kanji: "å‡„ã", kr: "êµ‰ì¥íˆ / ëª¹ì‹œ", valid: ["êµ‰ì¥íˆ", "ëª¹ì‹œ", "ë§¤ìš°", "ì—„ì²­"], type: "ë¶€ì‚¬" },
            { jp: "ã‚ã¾ã‚Š", kanji: null, kr: "ë³„ë¡œ / ê·¸ë‹¤ì§€", valid: ["ë³„ë¡œ", "ê·¸ë‹¤ì§€", "ë„ˆë¬´", "ë”±íˆ"], type: "ë¶€ì‚¬" },
            { jp: "ã„ã‹ãŒã§ã™ã‹", kanji: "å¦‚ä½•ã§ã™ã‹", kr: "ì–´ë–»ìŠµë‹ˆê¹Œ? (ì •ì¤‘)", valid: ["ì–´ë–»ìŠµë‹ˆê¹Œ", "ì–´ë– ì„¸ìš”", "ì–´ë•Œìš”"], type: "íšŒí™”" },
            { jp: "ã©ã†ã§ã™ã‹", kanji: null, kr: "ì–´ë•Œìš”?", valid: ["ì–´ë•Œìš”", "ì–´ë–»ìŠµë‹ˆê¹Œ"], type: "íšŒí™”" },
            { jp: "ã„ãŸã ãã¾ã™", kanji: null, kr: "ì˜ ë¨¹ê² ìŠµë‹ˆë‹¤", valid: ["ì˜ ë¨¹ê² ìŠµë‹ˆë‹¤"], type: "íšŒí™”" },
            { jp: "ã”ã¡ãã†ã•ã¾", kanji: null, kr: "ì˜ ë¨¹ì—ˆìŠµë‹ˆë‹¤", valid: ["ì˜ ë¨¹ì—ˆìŠµë‹ˆë‹¤"], type: "íšŒí™”" },
            { jp: "ã‚ãã‚…ã†", kanji: "å’Œç‰›", kr: "ì™€ê·œ (ì¼ë³¸ ì†Œê³ ê¸°)", valid: ["ì™€ê·œ", "ì¼ë³¸ ì†Œ", "ì¼ë³¸ ì†Œê³ ê¸°"], type: "ìŒì‹" },
            { jp: "ããªã“", kanji: null, kr: "ì½©ê°€ë£¨", valid: ["ì½©ê°€ë£¨"], type: "ìŒì‹" },
            { jp: "ãªã¾", kanji: "ç”Ÿ", kr: "ë‚ ê²ƒ / ìƒ", valid: ["ë‚ ê²ƒ", "ìƒ", "ìƒë§¥ì£¼"], type: "ìŒì‹" },
            { jp: "ã—ã‚‡ã", kanji: "é£Ÿ", kr: "ì‹ (ë¨¹ì„ ì‹)", valid: ["ì‹", "ë¨¹ì„ ì‹", "ë¨¹ë‹¤"], type: "í•œì" },
            { jp: "ãŠã¿ã‚„ã’", kanji: "ãŠåœŸç”£", kr: "ì—¬í–‰ ì„ ë¬¼", valid: ["ì—¬í–‰ ì„ ë¬¼", "ê¸°ë…í’ˆ", "ì„ ë¬¼", "ì˜¤ë¯¸ì•¼ê²Œ"], type: "ë¬¼ê±´" },
            { jp: "ãŠãã‚Šã‚‚ã®", kanji: "è´ˆã‚Šç‰©", kr: "ì„ ë¬¼ (ë³´ë‚´ëŠ” ê²ƒ)", valid: ["ì„ ë¬¼"], type: "ë¬¼ê±´" },
            { jp: "ãƒ—ãƒ¬ã‚¼ãƒ³ãƒˆ", kanji: null, kr: "ì„ ë¬¼", valid: ["ì„ ë¬¼"], type: "ë¬¼ê±´" },
            { jp: "ã‚†ã†ã³ã‚“ãã‚‡ã", kanji: "éƒµä¾¿å±€", kr: "ìš°ì²´êµ­", valid: ["ìš°ì²´êµ­"], type: "ì¥ì†Œ" },
            { jp: "ãƒ‡ãƒ‘ãƒ¼ãƒˆ", kanji: null, kr: "ë°±í™”ì ", valid: ["ë°±í™”ì ", "ë°íŒŒíŠ¸"], type: "ì¥ì†Œ" },
            { jp: "ã¿ã©ã‚Š", kanji: "ç·‘", kr: "ì´ˆë¡ìƒ‰", valid: ["ì´ˆë¡ìƒ‰", "ë…¹ìƒ‰", "ì´ˆë¡"], type: "ìƒ‰" },
            { jp: "ã‹ã¤ã©ã†", kanji: "æ´»å‹•", kr: "í™œë™", valid: ["í™œë™"], type: "í™œë™" },
            { jp: "ã‚¯ãƒ©ãƒ–", kanji: null, kr: "í´ëŸ½ (ë™ì•„ë¦¬)", valid: ["í´ëŸ½", "ë™ì•„ë¦¬"], type: "í™œë™" },
            { jp: "ã‚†ã†ã‚Œã„", kanji: "å¹½éœŠ", kr: "ìœ ë ¹ (ìœ ë ¹ íšŒì›)", valid: ["ìœ ë ¹", "ìœ ë ¹ íšŒì›"], type: "í™œë™" },
            { jp: "ããŸãã¶", kanji: "å¸°å®…éƒ¨", kr: "ê·€ê°€ë¶€", valid: ["ê·€ê°€ë¶€"], type: "í™œë™" },
            { jp: "ã‚„ã™ã¿", kanji: "ä¼‘ã¿", kr: "íœ´ì¼ / ë°©í•™ / ì‰¼", valid: ["íœ´ì¼", "ë°©í•™", "ì‰¼", "íœ´ì‹", "ì‰¬ëŠ” ë‚ "], type: "ì‹œê°„" },
            { jp: "ã—ã‚…ã¿", kanji: "è¶£å‘³", kr: "ì·¨ë¯¸", valid: ["ì·¨ë¯¸"], type: "ì·¨ë¯¸" },
            { jp: "ã‚Šã‚‡ã“ã†", kanji: "æ—…è¡Œ", kr: "ì—¬í–‰", valid: ["ì—¬í–‰"], type: "ì·¨ë¯¸" },
            { jp: "ã—ã‚ƒã—ã‚“", kanji: "å†™çœŸ", kr: "ì‚¬ì§„", valid: ["ì‚¬ì§„"], type: "ì·¨ë¯¸" },
            { jp: "ãƒã‚¹ã‚±", kanji: null, kr: "ë†êµ¬", valid: ["ë†êµ¬"], type: "ìŠ¤í¬ì¸ " },
            { jp: "ã‚„ãã‚…ã†", kanji: "é‡çƒ", kr: "ì•¼êµ¬", valid: ["ì•¼êµ¬"], type: "ìŠ¤í¬ì¸ " },
            { jp: "ã¯ã„ãã‚…ã†", kanji: "æ’çƒ", kr: "ë°°êµ¬", valid: ["ë°°êµ¬"], type: "ìŠ¤í¬ì¸ " },
            { jp: "ã‚³ãƒ³ã‚µãƒ¼ãƒˆ", kanji: null, kr: "ì½˜ì„œíŠ¸", valid: ["ì½˜ì„œíŠ¸"], type: "ì·¨ë¯¸" },
            { jp: "ã‹ã‚‰", kanji: null, kr: "~ë¶€í„° / ~ì—ì„œ", valid: ["ë¶€í„°", "ì—ì„œ", "~ë¶€í„°", "~ì—ì„œ"], type: "ë¬¸ë²•" },
            { jp: "ã¾ã§", kanji: null, kr: "~ê¹Œì§€", valid: ["ê¹Œì§€", "~ê¹Œì§€"], type: "ë¬¸ë²•" },
            { jp: "ã‚ã¨", kanji: null, kr: "ë‚˜ì¤‘ / ì•ìœ¼ë¡œ", valid: ["ë‚˜ì¤‘", "ë’¤", "ì•ìœ¼ë¡œ"], type: "ë¬¸ë²•" },
            { jp: "ãŸã‹ã„", kanji: "é«˜ã„", kr: "ë¹„ì‹¸ë‹¤ / ë†’ë‹¤", valid: ["ë¹„ì‹¸ë‹¤", "ë†’ë‹¤"], type: "í˜•ìš©ì‚¬" },
            { jp: "ã‚ˆã„", kanji: "è‰¯ã„", kr: "ì¢‹ë‹¤", valid: ["ì¢‹ë‹¤"], type: "í˜•ìš©ì‚¬" },
            { jp: "ãŸã®ã—ã„", kanji: "æ¥½ã—ã„", kr: "ì¦ê²ë‹¤", valid: ["ì¦ê²ë‹¤", "ì¬ë¯¸ìˆë‹¤", "ì¬ë°Œë‹¤"], type: "í˜•ìš©ì‚¬" },
            { jp: "ã‚ãŸã‚‰ã—ã„", kanji: "æ–°ã—ã„", kr: "ìƒˆë¡­ë‹¤", valid: ["ìƒˆë¡­ë‹¤"], type: "í˜•ìš©ì‚¬" },
            { jp: "ãµã‚‹ã„", kanji: "å¤ã„", kr: "ì˜¤ë˜ë˜ë‹¤", valid: ["ì˜¤ë˜ë˜ë‹¤", "ì˜¤ë˜ëë‹¤", "ë‚¡ë‹¤"], type: "í˜•ìš©ì‚¬" },
            { jp: "ã„ã„", kanji: "è‰¯ã„", kr: "ì¢‹ë‹¤", valid: ["ì¢‹ë‹¤"], type: "í˜•ìš©ì‚¬" },
            { jp: "ã‚ã‚‹ã„", kanji: "æ‚ªã„", kr: "ë‚˜ì˜ë‹¤", valid: ["ë‚˜ì˜ë‹¤"], type: "í˜•ìš©ì‚¬" },
            { jp: "ã†ã‚Œã—ã„", kanji: "å¬‰ã—ã„", kr: "ê¸°ì˜ë‹¤", valid: ["ê¸°ì˜ë‹¤"], type: "í˜•ìš©ì‚¬" },
            { jp: "ã‹ãªã—ã„", kanji: "æ‚²ã—ã„", kr: "ìŠ¬í”„ë‹¤", valid: ["ìŠ¬í”„ë‹¤"], type: "í˜•ìš©ì‚¬" },
            { jp: "ãŠãŠãã„", kanji: "å¤§ãã„", kr: "í¬ë‹¤", valid: ["í¬ë‹¤"], type: "í˜•ìš©ì‚¬" },
            { jp: "ã¡ã„ã•ã„", kanji: "å°ã•ã„", kr: "ì‘ë‹¤", valid: ["ì‘ë‹¤"], type: "í˜•ìš©ì‚¬" },
            { jp: "ãŠã„ã—ã„", kanji: "ç¾å‘³ã—ã„", kr: "ë§›ìˆë‹¤", valid: ["ë§›ìˆë‹¤"], type: "í˜•ìš©ì‚¬" },
            { jp: "ã¾ãšã„", kanji: "ä¸å‘³ã„", kr: "ë§›ì—†ë‹¤", valid: ["ë§›ì—†ë‹¤"], type: "í˜•ìš©ì‚¬" },
            { jp: "ãŠã‚‚ã—ã‚ã„", kanji: "é¢ç™½ã„", kr: "ì¬ë¯¸ìˆë‹¤", valid: ["ì¬ë¯¸ìˆë‹¤", "ì¬ë°Œë‹¤"], type: "í˜•ìš©ì‚¬" },
            { jp: "ã¤ã¾ã‚‰ãªã„", kanji: "è©°ã‚‰ãªã„", kr: "ì¬ë¯¸ì—†ë‹¤", valid: ["ì¬ë¯¸ì—†ë‹¤", "ì§€ë£¨í•˜ë‹¤"], type: "í˜•ìš©ì‚¬" },
            { jp: "ã›ã¾ã„", kanji: "ç‹­ã„", kr: "ì¢ë‹¤", valid: ["ì¢ë‹¤"], type: "í˜•ìš©ì‚¬" },
            { jp: "ã²ã‚ã„", kanji: "åºƒã„", kr: "ë„“ë‹¤", valid: ["ë„“ë‹¤"], type: "í˜•ìš©ì‚¬" },
            { jp: "ã¡ã‹ã„", kanji: "è¿‘ã„", kr: "ê°€ê¹ë‹¤", valid: ["ê°€ê¹ë‹¤"], type: "í˜•ìš©ì‚¬" },
            { jp: "ã¨ãŠã„", kanji: "é ã„", kr: "ë©€ë‹¤", valid: ["ë©€ë‹¤"], type: "í˜•ìš©ì‚¬" },
            { jp: "ã¿ã˜ã‹ã„", kanji: "çŸ­ã„", kr: "ì§§ë‹¤", valid: ["ì§§ë‹¤"], type: "í˜•ìš©ì‚¬" },
            { jp: "ãªãŒã„", kanji: "é•·ã„", kr: "ê¸¸ë‹¤", valid: ["ê¸¸ë‹¤"], type: "í˜•ìš©ì‚¬" },
            { jp: "ã™ããªã„", kanji: "å°‘ãªã„", kr: "ì ë‹¤", valid: ["ì ë‹¤"], type: "í˜•ìš©ì‚¬" },
            { jp: "ãŠãŠã„", kanji: "å¤šã„", kr: "ë§ë‹¤", valid: ["ë§ë‹¤"], type: "í˜•ìš©ì‚¬" },
            { jp: "ã‚„ã•ã—ã„(æ˜“ã—ã„)", kanji: "æ˜“ã—ã„", kr: "ì‰½ë‹¤", valid: ["ì‰½ë‹¤"], type: "í˜•ìš©ì‚¬" },
            { jp: "ã‚€ãšã‹ã—ã„", kanji: "é›£ã—ã„", kr: "ì–´ë µë‹¤", valid: ["ì–´ë µë‹¤"], type: "í˜•ìš©ì‚¬" },
            { jp: "ã‚ã‹ã„", kanji: "èµ¤ã„", kr: "ë¹¨ê°›ë‹¤", valid: ["ë¹¨ê°›ë‹¤", "ë¶‰ë‹¤"], type: "í˜•ìš©ì‚¬" },
            { jp: "ã‚ãŠã„", kanji: "é’ã„", kr: "íŒŒë—ë‹¤", valid: ["íŒŒë—ë‹¤", "í‘¸ë¥´ë‹¤"], type: "í˜•ìš©ì‚¬" },
            { jp: "ã—ã‚ã„", kanji: "ç™½ã„", kr: "í•˜ì–—ë‹¤", valid: ["í•˜ì–—ë‹¤", "í¬ë‹¤"], type: "í˜•ìš©ì‚¬" },
            { jp: "ãã‚ã„", kanji: "é»’ã„", kr: "ê²€ë‹¤", valid: ["ê²€ë‹¤", "ê¹Œë§£ë‹¤"], type: "í˜•ìš©ì‚¬" },
            { jp: "ãã„ã‚ã„", kanji: "é»„è‰²ã„", kr: "ë…¸ë—ë‹¤", valid: ["ë…¸ë—ë‹¤", "ëˆ„ë ‡ë‹¤"], type: "í˜•ìš©ì‚¬" },
            { jp: "ã‹ã‚‰ã„", kanji: "è¾›ã„", kr: "ë§µë‹¤", valid: ["ë§µë‹¤"], type: "í˜•ìš©ì‚¬" },
            { jp: "ã—ãŠã‹ã‚‰ã„", kanji: "å¡©è¾›ã„", kr: "ì§œë‹¤", valid: ["ì§œë‹¤"], type: "í˜•ìš©ì‚¬" },
            { jp: "ã—ã‚‡ã£ã±ã„", kanji: null, kr: "ì§œë‹¤", valid: ["ì§œë‹¤"], type: "í˜•ìš©ì‚¬" },
            { jp: "ã‚ã¾ã„", kanji: "ç”˜ã„", kr: "ë‹¬ë‹¤", valid: ["ë‹¬ë‹¤"], type: "í˜•ìš©ì‚¬" },
            { jp: "ã™ã£ã±ã„", kanji: "é…¸ã£ã±ã„", kr: "ì‹œë‹¤", valid: ["ì‹œë‹¤"], type: "í˜•ìš©ì‚¬" },
            { jp: "ã«ãŒã„", kanji: "è‹¦ã„", kr: "ì“°ë‹¤", valid: ["ì“°ë‹¤"], type: "í˜•ìš©ì‚¬" },
            { jp: "ã‚ã¤ã„", kanji: "ç†±ã„", kr: "ëœ¨ê²ë‹¤", valid: ["ëœ¨ê²ë‹¤"], type: "í˜•ìš©ì‚¬" },
            { jp: "ã‹ã‚ã„ã„", kanji: "å¯æ„›ã„", kr: "ê·€ì—½ë‹¤", valid: ["ê·€ì—½ë‹¤"], type: "í˜•ìš©ì‚¬" },
            { jp: "ã„ããŒã—ã„", kanji: "å¿™ã—ã„", kr: "ë°”ì˜ë‹¤", valid: ["ë°”ì˜ë‹¤"], type: "í˜•ìš©ì‚¬" },
            { jp: "ã™ã°ã‚‰ã—ã„", kanji: "ç´ æ™´ã‚‰ã—ã„", kr: "í›Œë¥­í•˜ë‹¤", valid: ["í›Œë¥­í•˜ë‹¤", "ëŒ€ë‹¨í•˜ë‹¤"], type: "í˜•ìš©ì‚¬" },
            { jp: "ã‚ã¶ãªã„", kanji: "å±ãªã„", kr: "ìœ„í—˜í•˜ë‹¤", valid: ["ìœ„í—˜í•˜ë‹¤"], type: "í˜•ìš©ì‚¬" },
            { jp: "ã‚„ã•ã—ã„(å„ªã—ã„)", kanji: "å„ªã—ã„", kr: "ìƒëƒ¥í•˜ë‹¤", valid: ["ìƒëƒ¥í•˜ë‹¤", "ë‹¤ì •í•˜ë‹¤"], type: "í˜•ìš©ì‚¬" },
            { jp: "ã‚„ã™ã„", kanji: "å®‰ã„", kr: "ì‹¸ë‹¤", valid: ["ì‹¸ë‹¤", "ê°€ê²©ì´ ì‹¸ë‹¤"], type: "í˜•ìš©ì‚¬" },
            { jp: "ã•ã‚€ã„", kanji: "å¯’ã„", kr: "ì¶¥ë‹¤", valid: ["ì¶¥ë‹¤"], type: "í˜•ìš©ì‚¬" },
            { jp: "ãã‚Œã„ã ", kanji: "ç¶ºéº—ã ", kr: "ì•„ë¦„ë‹µë‹¤", valid: ["ì•„ë¦„ë‹µë‹¤", "ì˜ˆì˜ë‹¤"], type: "í˜•ìš©ì‚¬" },
            { jp: "ã™ã¦ãã ", kanji: "ç´ æ•µã ", kr: "ë©‹ì§€ë‹¤", valid: ["ë©‹ì§€ë‹¤", "ê·¼ì‚¬í•˜ë‹¤", "ë©‹ìˆë‹¤"], type: "í˜•ìš©ì‚¬" },
            { jp: "ã™ãã ", kanji: "å¥½ãã ", kr: "ì¢‹ì•„í•˜ë‹¤", valid: ["ì¢‹ì•„í•˜ë‹¤"], type: "í˜•ìš©ì‚¬" },
            { jp: "ãã‚‰ã„ã ", kanji: "å«Œã„ã ", kr: "ì‹«ì–´í•˜ë‹¤", valid: ["ì‹«ì–´í•˜ë‹¤"], type: "í˜•ìš©ì‚¬" },
            { jp: "ã˜ã‚‡ã†ãšã ", kanji: "ä¸Šæ‰‹ã ", kr: "ì˜í•˜ë‹¤", valid: ["ì˜í•˜ë‹¤", "ëŠ¥ìˆ™í•˜ë‹¤"], type: "í˜•ìš©ì‚¬" },
            { jp: "ã¸ãŸã ", kanji: "ä¸‹æ‰‹ã ", kr: "ì˜ ëª»í•˜ë‹¤", valid: ["ì˜ ëª»í•˜ë‹¤", "ì„œíˆ¬ë¥´ë‹¤", "ëª»í•˜ë‹¤", "ë¯¸ìˆ™í•˜ë‹¤"], type: "í˜•ìš©ì‚¬" },
            { jp: "ã—ãšã‹ã ", kanji: "é™ã‹ã ", kr: "ì¡°ìš©í•˜ë‹¤", valid: ["ì¡°ìš©í•˜ë‹¤", "ê³ ìš”í•˜ë‹¤"], type: "í˜•ìš©ì‚¬" },
            { jp: "ã ã‚ã ", kanji: "é§„ç›®ã ", kr: "ì•ˆ ë˜ë‹¤", valid: ["ì•ˆ ë˜ë‹¤", "ì•ˆë˜ë‹¤"], type: "í˜•ìš©ì‚¬" },
            { jp: "ã¾ã˜ã‚ã ", kanji: "çœŸé¢ç›®ã ", kr: "ì„±ì‹¤í•˜ë‹¤", valid: ["ì„±ì‹¤í•˜ë‹¤"], type: "í˜•ìš©ì‚¬" },
            { jp: "ã«ãã‚„ã‹ã ", kanji: "è³‘ã‚„ã‹ã ", kr: "ë²ˆí™”í•˜ë‹¤", valid: ["ë²ˆí™”í•˜ë‹¤"], type: "í˜•ìš©ì‚¬" },
            { jp: "ã‚Œã„", kanji: "é›¶", kr: "0 (ë ˆì´)", valid: ["0", "ì˜", "ì œë¡œ"], type: "ìˆ«ì" },
            { jp: "ã‚¼ãƒ­", kanji: null, kr: "0 (ì œë¡œ)", valid: ["0", "ì˜", "ì œë¡œ"], type: "ìˆ«ì" },
            { jp: "ã„ã¡", kanji: "ä¸€", kr: "1", valid: ["1", "ì¼", "í•˜ë‚˜"], type: "ìˆ«ì" },
            { jp: "ã«", kanji: "äºŒ", kr: "2", valid: ["2", "ì´", "ë‘˜"], type: "ìˆ«ì" },
            { jp: "ã•ã‚“", kanji: "ä¸‰", kr: "3", valid: ["3", "ì‚¼", "ì…‹"], type: "ìˆ«ì" },
            { jp: "ã‚ˆã‚“", kanji: "å››", kr: "4 (ìš˜)", valid: ["4", "ì‚¬", "ë„·"], type: "ìˆ«ì" },
            { jp: "ã—", kanji: "å››", kr: "4 (ì‹œ)", valid: ["4", "ì‚¬", "ë„·"], type: "ìˆ«ì" },
            { jp: "ã”", kanji: "äº”", kr: "5", valid: ["5", "ì˜¤", "ë‹¤ì„¯"], type: "ìˆ«ì" },
            { jp: "ã‚ã", kanji: "å…­", kr: "6", valid: ["6", "ìœ¡", "ì—¬ì„¯"], type: "ìˆ«ì" },
            { jp: "ãªãª", kanji: "ä¸ƒ", kr: "7 (ë‚˜ë‚˜)", valid: ["7", "ì¹ ", "ì¼ê³±"], type: "ìˆ«ì" },
            { jp: "ã—ã¡", kanji: "ä¸ƒ", kr: "7 (ì‹œì¹˜)", valid: ["7", "ì¹ ", "ì¼ê³±"], type: "ìˆ«ì" },
            { jp: "ã¯ã¡", kanji: "å…«", kr: "8", valid: ["8", "íŒ”", "ì—¬ëŸ"], type: "ìˆ«ì" },
            { jp: "ãã‚…ã†", kanji: "ä¹", kr: "9 (í-)", valid: ["9", "êµ¬", "ì•„í™‰"], type: "ìˆ«ì" },
            { jp: "ã", kanji: "ä¹", kr: "9 (ì¿ )", valid: ["9", "êµ¬", "ì•„í™‰"], type: "ìˆ«ì" },
            { jp: "ã˜ã‚…ã†", kanji: "å", kr: "10", valid: ["10", "ì‹­", "ì—´"], type: "ìˆ«ì" },
            { jp: "ã˜ã‚…ã†ã„ã¡", kanji: "åä¸€", kr: "11", valid: ["11", "ì‹­ì¼", "ì—´í•˜ë‚˜"], type: "ìˆ«ì" },
            { jp: "ã˜ã‚…ã†ã«", kanji: "åäºŒ", kr: "12", valid: ["12", "ì‹­ì´", "ì—´ë‘˜"], type: "ìˆ«ì" }
        ];

        let currentMode = 'JP_KR';
        let quizQueue = [];
        let currentIndex = 0;
        let score = 0;
        let wrongList = [];
        let isWaitingNext = false;

        const dom = {
            screenStart: document.getElementById('start-screen'),
            screenQuiz: document.getElementById('quiz-screen'),
            screenResult: document.getElementById('result-screen'),
            screenVocab: document.getElementById('vocab-screen'),
            progress: document.getElementById('progress-bar'),
            remainNum: document.getElementById('remain-num'),
            question: document.getElementById('question-text'),
            categoryBadge: document.getElementById('category-badge'),
            input: document.getElementById('answer-input'),
            feedback: document.getElementById('feedback'),
            btn: document.getElementById('action-btn'),
            modeTitle: document.getElementById('mode-title'),
            finalScore: document.getElementById('final-score'),
            correctCnt: document.getElementById('correct-cnt'),
            totalCnt: document.getElementById('total-cnt'),
            wrongBox: document.getElementById('wrong-box'),
            wrongList: document.getElementById('wrong-list'),
            vocabBody: document.getElementById('vocab-table-body'),
            vocabCount: document.getElementById('total-vocab-count')
        };

        function shuffle(array) {
            for (let i = array.length - 1; i > 0; i--) {
                const j = Math.floor(Math.random() * (i + 1));
                [array[i], array[j]] = [array[j], array[i]];
            }
            return array;
        }

        function startGame(mode) {
            currentMode = mode;
            let filteredData = [...vocabData];
            if (mode === 'KANJI') {
                filteredData = filteredData.filter(item => item.kanji !== null);
            }
            quizQueue = shuffle(filteredData);
            currentIndex = 0;
            score = 0;
            wrongList = [];
            isWaitingNext = false;

            dom.screenStart.style.display = 'none';
            dom.screenVocab.style.display = 'none';
            dom.screenQuiz.style.display = 'block';
            dom.screenResult.style.display = 'none';

            if (mode === 'JP_KR') {
                dom.modeTitle.innerText = "ê¸°ë³¸ ëª¨ë“œ (íˆë¼ê°€ë‚˜ â” ëœ»)";
                dom.input.placeholder = "í•œêµ­ì–´ ëœ»ì„ ì…ë ¥í•˜ì„¸ìš”";
                dom.input.classList.remove('jp-mode');
            } else if (mode === 'KR_JP') {
                dom.modeTitle.innerText = "ì“°ê¸° ëª¨ë“œ (ëœ» â” íˆë¼ê°€ë‚˜)";
                dom.input.placeholder = "íˆë¼ê°€ë‚˜ë¡œ ì…ë ¥í•˜ì„¸ìš”";
                dom.input.classList.add('jp-mode');
            } else {
                dom.modeTitle.innerText = "í•œì ëª¨ë“œ (í•œì â” ì½ëŠ” ë²•)";
                dom.input.placeholder = "íˆë¼ê°€ë‚˜ë¡œ ì½ëŠ” ë²•ì„ ì…ë ¥í•˜ì„¸ìš”";
                dom.input.classList.add('jp-mode');
            }
            showQuestion();
        }

        function showQuestion() {
            isWaitingNext = false;
            const currentData = quizQueue[currentIndex];
            const total = quizQueue.length;
            dom.remainNum.innerText = `${total - currentIndex}ë¬¸ì œ ë‚¨ìŒ`;
            dom.progress.style.width = `${((currentIndex) / total) * 100}%`;
            
            if (currentMode === 'JP_KR') {
                dom.question.innerText = currentData.jp;
            } else if (currentMode === 'KR_JP') {
                dom.question.innerText = currentData.kr;
            } else if (currentMode === 'KANJI') {
                dom.question.innerText = currentData.kanji;
            }
            
            dom.categoryBadge.innerText = currentData.type;
            dom.feedback.innerText = '';
            dom.input.value = '';
            dom.input.disabled = false;
            dom.input.focus();
            dom.btn.innerText = 'ì œì¶œí•˜ê¸° (Enter)';
            dom.btn.style.background = 'var(--primary)';
        }

        function handleAction() {
            if (isWaitingNext) {
                nextQuestion();
            } else {
                checkAnswer();
            }
        }

        function checkAnswer() {
            const inputVal = dom.input.value.trim();
            if (!inputVal) return;
            const currentData = quizQueue[currentIndex];
            const cleanInput = inputVal.replace(/\s+/g, '');
            let isCorrect = false;
            let correctAnswerText = "";

            if (currentMode === 'JP_KR') {
                isCorrect = currentData.valid.some(ans => ans.replace(/\s+/g, '') === cleanInput);
                correctAnswerText = currentData.kr;
            } else {
                isCorrect = (cleanInput === currentData.jp.replace(/\s+/g, ''));
                correctAnswerText = currentData.jp;
                if (!isCorrect && currentData.jp.endsWith('ã ')) {
                    if (cleanInput === currentData.jp.slice(0, -1)) isCorrect = true;
                }
            }

            isWaitingNext = true;
            dom.input.disabled = true;

            if (isCorrect) {
                score++;
                dom.input.classList.add('correct');
                dom.feedback.innerHTML = '<span class="msg-success">ì •ë‹µì…ë‹ˆë‹¤! ğŸ‰</span>';
                dom.btn.style.background = 'var(--success)';
            } else {
                dom.input.classList.add('wrong');
                dom.feedback.innerHTML = `<span class="msg-error">ì˜¤ë‹µ! ì •ë‹µ: [${correctAnswerText}]</span>`;
                dom.btn.style.background = 'var(--error)';
                let qText = (currentMode === 'JP_KR') ? currentData.jp : (currentMode === 'KR_JP' ? currentData.kr : currentData.kanji);
                wrongList.push({ q: qText, a: correctAnswerText, u: inputVal });
            }
            dom.btn.innerText = 'ë‹¤ìŒ ë¬¸ì œ (Enter â†µ)';
        }

        function nextQuestion() {
            dom.input.classList.remove('correct', 'wrong');
            currentIndex++;
            if (currentIndex >= quizQueue.length) {
                finishQuiz();
            } else {
                showQuestion();
            }
        }

        function finishQuiz() {
            dom.screenQuiz.style.display = 'none';
            dom.screenResult.style.display = 'block';
            const finalScoreVal = Math.round((score / quizQueue.length) * 100);
            dom.finalScore.innerText = finalScoreVal;
            dom.correctCnt.innerText = score;
            dom.totalCnt.innerText = quizQueue.length;

            if (wrongList.length > 0) {
                dom.wrongBox.style.display = 'block';
                dom.wrongList.innerHTML = wrongList.map(item => `
                    <div class="wrong-item">
                        <div>
                            <div class="w-jp">${item.q}</div>
                            <div class="w-kr">ì •ë‹µ: ${item.a}</div>
                        </div>
                        <div style="color:#9ca3af; font-size:0.8rem;">ë‚´ ë‹µ: ${item.u}</div>
                    </div>
                `).join('');
            } else {
                dom.wrongBox.style.display = 'none';
                dom.feedback.innerHTML += "<br><h3>ì™„ë²½í•©ë‹ˆë‹¤! ë§Œì ì´ì—ìš”! ğŸ†</h3>";
            }
        }

        function goHome() {
            dom.input.classList.remove('correct', 'wrong');
            dom.screenStart.style.display = 'block';
            dom.screenQuiz.style.display = 'none';
            dom.screenResult.style.display = 'none';
            dom.screenVocab.style.display = 'none';
        }

        function restartCurrentMode() {
            startGame(currentMode);
        }

        function showVocabList() {
            dom.screenStart.style.display = 'none';
            dom.screenVocab.style.display = 'block';
            dom.vocabCount.innerText = vocabData.length;
            
            // ë°ì´í„° ë¡œë“œ (í•œ ë²ˆë§Œ ìˆ˜í–‰í•˜ê±°ë‚˜ ë§¤ë²ˆ ìˆ˜í–‰)
            // ê°€ë‚˜ë‹¤/íˆë¼ê°€ë‚˜ ìˆœ ì •ë ¬ì€ ë³µì¡í•˜ë‹ˆ ì…ë ¥ ìˆœì„œëŒ€ë¡œ ë³´ì—¬ì¤ë‹ˆë‹¤.
            dom.vocabBody.innerHTML = vocabData.map(item => `
                <tr>
                    <td class="col-jp">${item.jp}</td>
                    <td class="col-kanji">${item.kanji ? item.kanji : '-'}</td>
                    <td class="col-kr">${item.kr}</td>
                </tr>
            `).join('');
        }

        // --- ê³µìœ  ê¸°ëŠ¥ ---
        async function shareResult() {
            const finalScore = dom.finalScore.innerText;
            const modeText = dom.modeTitle.innerText.split('(')[0].trim();
            const textToCopy = `[ì¼ë³¸ì–´ ê¸°ë§ë²”ìœ„ ì˜¬ìŠ¤íƒ€]\nëª¨ë“œ: ${modeText}\nì ìˆ˜: ${score}ì  (${finalScore}ì )\n\në„ˆë„ í•œë²ˆ í’€ì–´ë´! ğŸ’¯`;
            const shareBtn = document.querySelector('.share-btn');
            const originalText = shareBtn.innerText;

            if (navigator.share) {
                try {
                    await navigator.share({
                        title: 'ì¼ë³¸ì–´ í€´ì¦ˆ ê²°ê³¼',
                        text: textToCopy,
                    });
                    return;
                } catch (err) {
                    console.log("Share failed/cancelled");
                }
            }

            try {
                await navigator.clipboard.writeText(textToCopy);
                shareBtn.innerText = "ë³µì‚¬ ì™„ë£Œ! (Ctrl+V)";
                shareBtn.style.background = "#059669";
                setTimeout(() => {
                    shareBtn.innerText = originalText;
                    shareBtn.style.background = "";
                }, 2000);
            } catch (err) {
                prompt("ì•„ë˜ í…ìŠ¤íŠ¸ë¥¼ ë³µì‚¬í•˜ì„¸ìš”! (Ctrl+C)", textToCopy);
            }
        }

        document.addEventListener('keydown', (e) => {
            if (e.key === 'Enter') {
                if (dom.screenQuiz.style.display !== 'none') handleAction();
            }
        });
    </script>
</body>
</html>
